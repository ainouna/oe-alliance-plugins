<provider>
	<name>Sky UK (SD)</name>
	<streamtype>dvbs</streamtype>
	<protocol>sky</protocol>
	<transponder 
		orbital_position="282"
		frequency="11778000"
		symbol_rate="27500000"
		polarization="1"
		fec_inner="2"
		inversion="2"
		system="0"
		modulation="1"
		roll_off="0"
		pilot="2"
	/>
	<dvbsconfigs>
		<configuration key="hd_atherstone" bouquet="0x1001" region="0x13" namespace="0x11a0000">Atherstone</configuration>
		<configuration key="hd_border_england" bouquet="0x1001" region="0x0c" namespace="0x11a0000">Border England</configuration>
		<configuration key="hd_brighton" bouquet="0x1003" region="0x41" namespace="0x11a0000">Brighton</configuration>
		<configuration key="hd_central_midlands" bouquet="0x1001" region="0x03" namespace="0x11a0000">Central Midlands</configuration>
		<configuration key="hd_channel_isles" bouquet="0x1004" region="0x22" namespace="0x11a0000">Channel Isles</configuration>
		<configuration key="hd_east_midlands" bouquet="0x1001" region="0x14" namespace="0x11a0000">East Midlands</configuration>
		<configuration key="hd_essex" bouquet="0x1001" region="0x02" namespace="0x11a0000">Essex</configuration>
		<configuration key="hd_gloucester" bouquet="0x1001" region="0x18" namespace="0x11a0000">Gloucester</configuration>
		<configuration key="hd_grampian" bouquet="0x1002" region="0x23" namespace="0x11a0000">Grampian</configuration>
		<configuration key="hd_granada" bouquet="0x1001" region="0x07" namespace="0x11a0000">Granada</configuration>
		<configuration key="hd_henley_on_thames" bouquet="0x1003" region="0x46" namespace="0x11a0000">Henley On Thames</configuration>
		<configuration key="hd_htv_west" bouquet="0x1001" region="0x04" namespace="0x11a0000">HTV West</configuration>
		<configuration key="hd_htv_west_thames_valley" bouquet="0x1003" region="0x3f" namespace="0x11a0000">HTV West / Thames Valley</configuration>
		<configuration key="hd_humber" bouquet="0x1001" region="0x1d" namespace="0x11a0000">Humber</configuration>
		<configuration key="hd_london" bouquet="0x1001" region="0x01" namespace="0x11a0000">London</configuration>
		<configuration key="hd_london_essex" bouquet="0x1001" region="0x12" namespace="0x11a0000">London / Essex</configuration>
		<configuration key="hd_london_kent" bouquet="0x1003" region="0x40" namespace="0x11a0000">London Kent</configuration>
		<configuration key="hd_london_thames_valley" bouquet="0x1003" region="0x42" namespace="0x11a0000">London / Thames Valley</configuration>
		<configuration key="hd_meridian_east" bouquet="0x1001" region="0x0b" namespace="0x11a0000">Meridian East</configuration>
		<configuration key="hd_meridian_north" bouquet="0x1003" region="0x44" namespace="0x11a0000">Meridian North</configuration>
		<configuration key="hd_meridian_south" bouquet="0x1001" region="0x05" namespace="0x11a0000">Meridian South</configuration>
		<configuration key="hd_meridian_south_east" bouquet="0x1001" region="0x0a" namespace="0x11a0000">Meridian South East</configuration>
		<configuration key="hd_merseyside" bouquet="0x1003" region="0x2d" namespace="0x11a0000">Merseyside</configuration>
		<configuration key="hd_norfolk" bouquet="0x1001" region="0x15" namespace="0x11a0000">Norfolk</configuration>
		<configuration key="hd_north_east_midlands" bouquet="0x1003" region="0x3e" namespace="0x11a0000">North East Midlands</configuration>
		<configuration key="hd_north_west_yorkshire" bouquet="0x1001" region="0x08" namespace="0x11a0000">North West Yorkshire</configuration>
		<configuration key="hd_north_yorkshire" bouquet="0x1001" region="0x1a" namespace="0x11a0000">North Yorkshire</configuration>
		<configuration key="hd_oxford" bouquet="0x1003" region="0x47" namespace="0x11a0000">Oxford</configuration>
		<configuration key="hd_ridge_hill" bouquet="0x1003" region="0x29" namespace="0x11a0000">Ridge Hill</configuration>
		<configuration key="hd_scarborough" bouquet="0x1003" region="0x3d" namespace="0x11a0000">Scarborough</configuration>
		<configuration key="hd_sheffield" bouquet="0x1003" region="0x3c" namespace="0x11a0000">Sheffield</configuration>
		<configuration key="hd_south_lakeland" bouquet="0x1001" region="0x1c" namespace="0x11a0000">South Lakeland</configuration>
		<configuration key="hd_south_yorkshire" bouquet="0x1003" region="0x48" namespace="0x11a0000">South Yorkshire</configuration>
		<configuration key="hd_tees" bouquet="0x1003" region="0x45" namespace="0x11a0000">Tees</configuration>
		<configuration key="hd_thames_valley" bouquet="0x1001" region="0x09" namespace="0x11a0000">Thames Valley</configuration>
		<configuration key="hd_tring" bouquet="0x1001" region="0x1b" namespace="0x11a0000">Tring</configuration>
		<configuration key="hd_tyne" bouquet="0x1001" region="0x0d" namespace="0x11a0000">Tyne</configuration>
		<configuration key="hd_west_anglia" bouquet="0x1001" region="0x19" namespace="0x11a0000">West Anglia</configuration> 
		<configuration key="hd_west_dorset" bouquet="0x1003" region="0x43" namespace="0x11a0000">West Dorset</configuration>
		<configuration key="hd_westcountry" bouquet="0x1001" region="0x06" namespace="0x11a0000">Westcountry</configuration>
		<configuration key="hd_border_scotland" bouquet="0x1002" region="0x24" namespace="0x11a0000">Border Scotland</configuration>
		<configuration key="hd_htv_wales" bouquet="0x1003" region="0x2b" namespace="0x11a0000">HTV Wales</configuration>
		<configuration key="hd_scottish_east" bouquet="0x1002" region="0x26" namespace="0x11a0000">Scottish East</configuration>
		<configuration key="hd_scottish_west" bouquet="0x1002" region="0x25" namespace="0x11a0000">Scottish West</configuration>
		<configuration key="hd_northern_ireland" bouquet="0x1004" region="0x21" namespace="0x11a0000">Northern Ireland</configuration>
	</dvbsconfigs>
	<sections>
		<section number="101">Entertainment</section>
		<section number="301">Movies</section>
		<section number="350">Music</section>
		<section number="401">Sports</section>
		<section number="501">News</section>
		<section number="520">Documentaries</section>
		<section number="580">Religious</section>
		<section number="601">Kids</section>
		<section number="650">Shopping</section>
		<section number="700">Sky Box Office</section>
		<section number="780">International</section>
		<section number="861">Gaming and Dating</section>
		<section number="881">Specialist</section>
		<section number="889">Bonus channels</section>
		<section number="899">Sky Information</section>
		<section number="900">Adult</section>
		<section number="950">Regional Variations</section>
		<section number="980">BBC Interactive</section>
		<section number="1000">Sky Sports Interactive</section>
		<section number="1030">Sky Anytime</section>
		<section number="1050">Not indexed</section>
	</sections>
	<!-- channelsontop affect only HD bouquets -->
	<hdchannelsontop>
		<channel number="141" />
		<channel number="142" />
		<channel number="178" />
		<channel number="227" />
	</hdchannelsontop>
	<sdchannelsontop>
		<channel number="141" />
		<channel number="142" />
		<channel number="178" />
		<channel number="227" />
		<channel number="171" />
		<channel number="217" />
		<channel number="235" />
		<channel number="231" />
		<channel number="204" />
	</sdchannelsontop>
	<!-- swapchannels affect only main bouquet (the normal version) -->
	<swapchannels>
		<channel number="141" with="101" /><!-- BBC One HD -->
		<channel number="142" with="102" /><!-- BBC Two HD -->
		<channel number="178" with="103" /><!-- ITV HD -->
		<channel number="227" with="104" /><!-- Channel 4 HD -->
		<channel number="210" with="115" /><!-- BBC Three HD -->
		<channel number="211" with="116" /><!-- BBC Four HD -->
		<channel number="224" with="162" /><!-- RTE2 HD -->
		<channel number="426" with="413" /><!-- BT Sport 1 HD -->
		<channel number="427" with="414" /><!-- BT Sport 2 HD -->
		<channel number="433" with="417" /><!-- ESPN HD -->
		<channel number="490" with="437" /><!-- BoxNation HD -->
		<channel number="516" with="501" /><!-- Sky News HD -->
		<channel number="518" with="512" /><!-- RT HD -->
		<channel number="570" with="503" /><!-- BBC News HD -->
		<channel number="633" with="613" /><!-- CBBC HD -->
		<channel number="624" with="614" /><!-- CBeebies HD -->
	</swapchannels>
	<servicehacks>
<![CDATA[
# start: slot some extra channels into vacant slots in the provider list
########################################################################
#
# format: "channel name": number,
#
# example: "Setanta Ireland": 423,"Setanta Sports1": 424,"RTE One": 161,"RTE2 HD": 224,
#
########################################################################
channels_to_add = {
"London Live": 117,"RTE One": 161,"RTE2": 162,"TG4": 163,"RTE2 HD": 224,"Setanta Ireland": 423,"Setanta Sports1": 424,"Oireachtas TV": 574,"RTEjr": 635,
}

#################################################################################
#
# Black and Whitelist
#
# To allow you to keep or automatically delete a channel from the list based 
# on it's channel number, name enclosed in quotes or a range of channels in the following sytax:
# range(start,end) eg: range(900,950) will select the range of channels 900 - 950.
# please be careful of the syntax of the range command as this is a built-in python function and bad
# syntax could break something.
#
# make your changes in the three sections below
#
#################################################################################
# SPECIFY CHANNELS IN CUSTOM LISTS BELOW
#################################################################################

hdsports = ['BT Sport 1 HD','BT Sport 2 HD','ESPN HD','BoxNation HD']
adult = [range(900,950)] # all channels in range 900 - 950

#################################################################################
# BUILD WHITE/BLACK LISTS BELOW
# you can specify channel numbers, names or pre-defined channel lists
#################################################################################

whitelist = ['ITV HD',hdsports,'ITV Encore HD','Sky News HD',752,'RTE2 HD']
blacklist = [899,950,998,999]
#blacklist = [adult,899,950,998,999] # uncomment this line to blacklist adult channels

#################################################################################
# LOGGING
# change 'verbosity = 0' to 'verbosity = 1' if you wish to
# enable logging

verbosity = 0

#################################################################################
# DO NOT CHANGE ANYTHING BELOW THIS LINE UNLESS YOU KNOW EXACTLY WHAT
# YOU ARE DOING
#################################################################################

wl = []

for middle_list in whitelist:
	if isinstance(middle_list, list):	
		for inner_list in middle_list:
			if isinstance(inner_list, list):	
				for item in inner_list:
					if isinstance(item, list):
						if verbosity >= 1 : print>>log,"[ZZL DEBUG] nesting too deep " + str(item)
					else:
						wl.append(item)
			else:
				wl.append(inner_list)
	else:
		wl.append(middle_list)


bl = []

for middle_list in blacklist:
	if isinstance(middle_list, list):	
		for inner_list in middle_list:
			if isinstance(inner_list, list):	
				for item in inner_list:
					if isinstance(item, list):
						if verbosity >= 1 : print>>log,"[ZZL DEBUG] nesting too deep " + str(item)
					else:
						bl.append(item)
			else:
				bl.append(inner_list)
	else:
		bl.append(middle_list)

if service["service_name"][-4:] == " (28)":
	service["service_name"] = service["service_name"][:-4]
if service["transport_stream_id"] == 0x7e3:
	service["namespace"] = 0x11a2f26

if service["service_name"] in channels_to_add and channels_to_add[service["service_name"]] in LCNs_in_use:
	if verbosity >= 1 :print>>log,"[NON IDX HACK] (" + str(service["number"]) + ") [" + service["service_name"] + "] found LCN already in use"

if service["service_name"] in channels_to_add and service["service_type"] in DvbScanner.VIDEO_ALLOWED_TYPES and channels_to_add[service["service_name"]] not in LCNs_in_use:
	LCNs_in_use.append(channels_to_add[service["service_name"]])
	service["number"] = channels_to_add[service["service_name"]]
	service["numbers"] = [channels_to_add[service["service_name"]]]
	if verbosity >= 1 :print>>log,"[NON IDX HACK] (" + str(service["number"]) + ") [" + service["service_name"] + "] added to custom LCN"
# end: slot some extra channels into vacant slots in the provider list


if service["service_type"] == 0x02 and service["number"] > 3000:
	service["number"] -= 3000

if service["number"] in wl and service["service_type"] != 2:
	if verbosity >= 1 : print>>log,"[SERVICEHACKS] (" + str(service["number"]) + ") [" + service["service_name"] + "] WHITELISTED"
elif service["service_name"] in wl and service["service_type"] != 2:
	if verbosity >= 1 : print>>log,"[SERVICEHACKS] (" + str(service["number"]) + ") [" + service["service_name"] + "] WHITELISTED"
elif service["number"] in bl and service["service_type"] != 2:
	if verbosity >= 1 : print>>log,"[SERVICEHACKS] (" + str(service["number"]) + ") [" + service["service_name"] + "] BLACKLISTED"
	skip = True
elif service["service_name"] in bl and service["service_type"] != 2:
	if verbosity >= 1 : print>>log,"[SERVICEHACKS] (" + str(service["number"]) + ") [" + service["service_name"] + "] BLACKLISTED"
	skip = True
elif service["service_type"] >= 17 and service["service_type"] <= 25 and service["free_ca"] != 0:
	if verbosity >= 1 : print>>log,"[SERVICEHACKS] (" + str(service["number"]) + ") [" + service["service_name"] + "] Type  " + str (service["service_type"]) + "AUTODELETED"
	skip = True

if service["channel_id"] > 2050 and service["channel_id"] < 2053: # BBC RB Find Highest Programmed channel_id
	highestbbci = 980
	for bbcinum in range(980,990):
		if bbcinum in video_services:
			if bbcinum >= highestbbci:
				highestbbci = bbcinum
				if verbosity >= 1 : print>>log,"[ZZL DEBUG] highest bbcinum: " + str(highestbbci)

new_numbers = []		
for number in service["numbers"]:
	if number >= 3000 and number <= 3999:
		new_numbers.append(number - 3000)
	elif number >= 1050 and number <= max(LCNs_in_use): # not indexed channels
		new_numbers.append(number)
		if verbosity >= 2 : print>>log,"[NOT INDEXED HACK] (" + str(number) + ") [" + service["service_name"] + "] added to not indexed bouquet"
	elif number > 999 or number < 101:
		if service["channel_id"] > 1470 and service["channel_id"] < 1486:
			new_numbers.append(service["channel_id"] - 471)
			service["interactive_name"] = "Sky Sports Interactive " + str(service["channel_id"])
		elif service["channel_id"] > 4093 and service["channel_id"] < 4099:
			new_numbers.append(service["channel_id"] - 3064)
			service["interactive_name"] = "Sky Anytime " + str(service["channel_id"])
		elif service["channel_id"] > 2050 and service["channel_id"] < 2053: # BBCi FIX START
			if verbosity >= 1 : print>>log,"[SERVICEHACKS] Moving BBCi Channel. " + str (service["channel_id"]) + " to " + str(highestbbci + 1)
			new_numbers.append(highestbbci + 1)
			highestbbci += 1
			service["interactive_name"] = "BBCi " + str(service["channel_id"])
			# BBCi FIX END
			# # # # # FUTURE CODE # # # # # # # # #
			# v=list(video_services.values())
			# k=list(video_services.keys())
			# highestservice = k[v.index(max(v))]
			# # # # # # # # # # # # # # # # # # # #
		else:
			skip = True
		break
	else:
		new_numbers.append(number)
service["numbers"] = new_numbers

#Some channels have the FTA flag when they should not.
fta_corrections = ['BoxNation', 'MOTORS TV UK', 'MTV Live', 'Nick Jr+1', 'Sony Movies', 'Sony Movies+1','Sony TV', 'Sony TV +1', 'TLC+2', ]
if service["service_name"] in fta_corrections:
 service["free_ca"] = 1
#end fta correction

]]>
	</servicehacks>
</provider>
